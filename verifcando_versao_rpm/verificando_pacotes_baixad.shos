#!/bin/bash
# verificar_rpms.sh
# Script para verificar pacotes RPM de teste

cd rpms_teste || { echo "Diretório rpms_teste não encontrado"; exit 1; }

for pkg in *.rpm; do
    echo "----------------------------------------"
    echo "Arquivo: $pkg"
    if rpm -qp --qf "Nome: %{NAME}\nVersão: %{VERSION}-%{RELEASE}\nRPMVERSION: %{RPMVERSION}\n" "$pkg" 2>/dev/null; then
        echo "Status: OK"
    else
        echo "Status: ERRO (pacote corrompido ou inválido)"
    fi
    echo
done
